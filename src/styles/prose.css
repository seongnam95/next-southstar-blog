:root {
  .prose {
    --tw-prose-body: var(--foreground);
    --tw-prose-headings: var(--foreground-accent);
    --tw-prose-lead: #4b5563;
    --tw-prose-links: var(--primary);
    --tw-prose-bold: var(--foreground-accent);
    --tw-prose-counters: #6b7280;
    --tw-prose-bullets: #d1d5db;
    --tw-prose-hr: var(--foreground);
    --tw-prose-quotes: var(--muted-foreground);
    --tw-prose-quote-borders: var(--primary);
    --tw-prose-captions: #6b7280;
    --tw-prose-kbd: var(--foreground-accent);
    --tw-prose-kbd-shadows: 17 24 39;
    --tw-prose-code: var(--foreground-accent);
    --tw-prose-pre-code: var(--foreground);
    --tw-prose-pre-bg: var(--muted);
    --tw-prose-th-borders: var(--border);
    --tw-prose-td-borders: var(--border-accent);
  }

  .prose {
    /* 인라인 코드 */
    :not(pre) > code {
      @apply mx-1 rounded-sm bg-muted px-2 py-1 font-normal;

      &:before,
      &:after {
        content: none;
      }
    }

    /* 코드 타이틀 */
    figcaption[data-rehype-pretty-code-title] {
      @apply mt-3 rounded-t-lg bg-muted px-3 py-2 text-sm text-muted-foreground;
      user-select: none;
    }

    figcaption[data-rehype-pretty-code-title] + pre {
      @apply mt-0 rounded-sm rounded-t-none;
    }

    /* 하이라이팅 */
    :where(mark):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
      @apply rounded-sm bg-muted px-1.5 py-0.5 text-foreground-accent;
    }

    /* 인용구 */
    :where(blockquote):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
      @apply border-none p-0 not-italic;
    }

    :where(h2):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
      @apply mb-8 mt-24 text-xl;
    }

    :where(h3):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
      @apply mt-20 text-lg;
    }

    :where(h2 + *):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
      @apply mb-6 mt-0;
    }

    :where(p):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
      @apply mb-7 mt-0;
    }

    :where(a):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
      @apply text-foreground-accent decoration-border-accent underline-offset-2;
    }
  }
}
