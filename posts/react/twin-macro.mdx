---
title: Twin.macro ì‹œì‘í•˜ê¸° (with. typescript, emotion, vite)
description: Tailwind CSSì˜ ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ì™€ CSS-in-JSë¥¼ ë™ì‹œì— ì‚¬ìš©í•˜ê¸°
tags: [React, TypeScript, TailwindCSS]
date: 2024-01-01
---

## ğŸ™Œ Twin.macroë€?

> `emotion` ë˜ëŠ” `styled-components` ì‘ì„± êµ¬ë¬¸ì— `Tailwind CSS`ì˜ ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬

ì‰½ê²Œ ë§í•´, `Tailwind`ì˜ **ë¹ ë¥¸ ìŠ¤íƒ€ì¼ë§**ê³¼ `css-in-js`ì˜ **ìœ ì—°ì„±**ì„ ë™ì‹œì— ëˆ„ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

[twin.macro ê³µì‹ë¬¸ì„œ](notion://www.notion.so/%22%3Chttps://github.com/ben-rogerson/twin.macro%3E%22)

## âš™ï¸ ì„¤ì¹˜ ë° ì„¸íŒ…

### ì˜ì¡´ì„± ì„¤ì¹˜

```
yarn add @emotion/react @emotion/styled
yarn add twin.macro @emotion/babel-plugin-jsx-pragmatic @babel/plugin-transform-react-jsx babel-plugin-macros tailwindcss --dev

```

### í”„ë¡œì íŠ¸ ì„¸íŒ…

### babel êµ¬ì„±

```jsx title="A) babel-plugin-macros.config.js"
export default {
  twin: {
    preset: 'emotion',
  },
};
```

```jsx title="B) package.json"
"babelMacros": {
  "twin": {
    "preset": "emotion"
  }
},
```

- \*A)**ì™€ **B)\*\* ì¤‘ í•˜ë‚˜ë§Œ êµ¬ì„±

### vite.config ì„¤ì •

```tsx title="vite.config.ts"
import react from '@vitejs/plugin-react';
import { defineConfig } from 'vite';

export default defineConfig({
  optimizeDeps: {
    esbuildOptions: {
      target: 'es2020',
    },
  },
  esbuild: {
    logOverride: { 'this-is-undefined-in-esm': 'silent' },
  },
  plugins: [
    react({
      babel: {
        plugins: [
          'babel-plugin-macros',
          [
            '@emotion/babel-plugin-jsx-pragmatic',
            {
              export: 'jsx',
              import: '__cssprop',
              module: '@emotion/react',
            },
          ],
          ['@babel/plugin-transform-react-jsx', { pragma: '__cssprop' }, 'twin.macro'],
        ],
      },
    }),
  ],
});
```

### íƒ€ì… ì„¤ì • (TypeScript)

```tsx title="types/twin.d.ts"
import { css as cssImport } from '@emotion/react';
import { CSSInterpolation } from '@emotion/serialize';
import styledImport from '@emotion/styled';
import 'twin.macro';

declare module 'twin.macro' {
  const styled: typeof styledImport;
  const css: typeof cssImport;
}

declare module 'react' {
  interface DOMAttributes<T> {
    tw?: string;
    css?: CSSInterpolation;
  }
}
```

```tsx title="tsconfig.ts"
{
  "compilerOptions": {
    // ê¸°ì¡´ êµ¬ì„±
    "skipLibCheck": true,
    "jsxImportSource": "@emotion/react"
  },
  // ê¸°ì¡´ êµ¬ì„±
  "include": ["src", "types"]
}
```

### Tailwind CSS ì§€ì‹œë¬¸ ì¶”ê°€

```css title="index.css"
@tailwind base;
@tailwind components;
@tailwind utilities;
```

## ğŸª„ ì‚¬ìš©ë°©ë²•

### ê¸°ë³¸ ì‚¬ìš©ë²•

```tsx
import 'twin.macro';

const Button = () => <button tw="bg-primary border hover:bg-primary-accent">ë²„íŠ¼</button>;
```

### Props ê°’ ì‚¬ìš©

```tsx
import tw from 'twin.macro';

interface ButtonProps {
  width?: string;
}

const Button = ({ width }: ButtonProps) => (
  <button css={[tw`bg-primary border hover:bg-primary-accent`, { width: width }]}>ë²„íŠ¼</button>
);
```

### Emotion + Tailwind ìƒì† ìŠ¤íƒ€ì¼ë§

```tsx
import tw from 'twin.macro';

const ButtonStyled = tw.button`
  bg-primary border rounded-md
  px-4 py-2 hover:bg-primary-accent
`;

const Button = () => <ButtonStyled>ë²„íŠ¼</ButtonStyled>;
```

```tsx
import tw from 'twin.macro';

const ButtonStyled = tw(button)`
  bg-primary border rounded-md
  px-4 py-2 hover:bg-primary-accent
`;

const Button = () => <ButtonStyled>ë²„íŠ¼</ButtonStyled>;
```

### ìƒì† + ë™ì  ìŠ¤íƒ€ì¼ë§

```tsx
import tw, { styled } from 'twin.macro';

interface ButtonStyledProps {
  hidden?: boolean;
}

const ButtonStyled = styled.button<ButtonStyledProps>(({ hidden }) => [
  tw`bg-primary border hover:bg-primary-accent`,
  hidden && tw`hidden`,
]);

const Button = () => <ButtonStyled hidden>ë²„íŠ¼</ButtonStyled>;
```
